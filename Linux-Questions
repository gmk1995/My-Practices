Linux Questions:

1) Create a user named ammar with a non-interactive shell on the App Server 3

Ans) use -s for shell and set shell to /sbin/nologin useradd ammar -s /sbin/nologin

2) Please give executable permissions to /tmp/xfusioncorp.sh script on App Server 1. Also make sure every user can execute it.

Ans) sudo chmod -R 777 /tmp/xfusioncorp.sh

3) During the daily standup, it was pointed out that the timezone across Nautilus Application Servers in Stratos Datacenter doesn't match with that of the local datacenter's timezone, which is America/Managua. Correct the mismatch.

Ans) run sudo timedatectl to check the timezone
sudo timedatectl set-timezone America/Managua

4) The Nautilus system admins team has prepared scripts to automate several day-to-day tasks. They want them to be deployed on all app servers in Stratos DC on a set schedule. Before that they need to test similar functionality with a sample cron job. Therefore, perform the steps below:

a. Install cronie package on all Nautilus app servers and start crond service.

b. Add a cron */5 * * * * echo hello > /tmp/cron_text for root user.

Ans) Log into application servers using "ssh username@ipaddress/hostname"
      >> check the which Linux Flavour is Installed by running the command " sudo cat /etc/os-release
      >> Once you confirm the os version check the package is available or not by running " sudo yum search cronie or apt search cronie "
      >> Once Package is available you can run the following commands to install the Squid Package by running the command " sudo yum install cronie -y or sudo apt install cronie -y "
      >> Once the Package is installed sucessfully you need to restart the service to run in the background " sudo systemctl restart crond "
      >> Check the status of the cronie service by running the below command " sudo systemctl status crond "
      >> To Add a cronjob you need run the below command " crontab -e -u root "
      >> It will open a vi editor you need to paste the above cronjob " */5 * * * * echo hello > /tmp/cron_text " and save the file
      >> To verify that the cron job has been added successfully, type the following command " crontab -l -u root "
      
5)  The backup server in the Stratos DC contains several template XML files used by the Nautilus application. However, these template XML files must be populated with valid data before they can be used. One of the daily tasks of a system admin working in the xFusionCorp industries is to apply string and file manipulation commands!

      Replace all occurances of the string Sample to Maritime on the XML file /root/nautilus.xml located in the backup server.

Ans) We can use the command sed -i 's/Sample/Maritime/g' /root/nautilus.xml

6)  There is some data on Nautilus App Server 1 in Stratos DC. Data needs to be altered in several of the files. On Nautilus App Server 1, alter the /home/BSD.txt file as per details given below:

a. Delete all lines containing word copyright and save results in /home/BSD_DELETE.txt file. (Please be aware of case sensitivity)

b. Replace all occurrence of word and to is and save results in /home/BSD_REPLACE.txt file.

Note: Let's say you are asked to replace word to with from. In that case, make sure not to alter any words containing this string; for example upto, contributor etc.

Ans) Log into application servers using "ssh username@ipaddress/hostname"
      >> Create BSD_DELETE.txt BSD_REPLACE.txt on /home directory by running the command " sudo touch BSD_DELETE.txt BSD_REPLACE.txt " and provide read,write,execute permissions by running the command " sudo chmod 777 BSD_DELETE.txt BSD_REPLACE.txt ".
      >> Use the Command " sudo grep -v copyright  /home/BSD.txt > /home/BSD_DELETE.txt
      >> Use the Command " sudo sed 's/\band\b/is/g' /home/BSD.txt > /home/BSD_REPLACE.txt

7)  create a user named ravi on the App Server 1. Set expiry date to 2021-04-15 in Stratos Datacenter. Make sure the user is created as per standard and is in lowercase.

Ans) Log into application servers using "ssh username@ipaddress/hostname"
      >> Once you log into the App Server 1 you need to run the below command " sudo useradd -m -e 2021-04-15 ravi "
      >> -m = create the user's home directory
      >> -e = expiration date of the new account

8) On App Server 1 find all files (not directories) owned by user jim inside /home/usersdata directory and copy them all while keeping the folder structure (preserve the directories path) to /beta directory.

Ans) Log into App Server1 using "ssh username@ipaddress/hostname"
      >> Once you log into App Server 1 you need to check whether the files with jim user name are there or not by moving to the " /home/usersdata " directory.
      >> Once you confirm back the user home directory by running the command " cd ~ " 
      >> To copy jim user files inside /home/usersdata directory  and to keep the folder structure you need to run the below command " sudo find /home/usersdata -type f -user jim -exec cp --parents {} /beta \;
      >> This command finds all files owned by user "jim" inside the /home/usersdata directory on App Server 1, using the find command with the following options:
          ** -type f: Find only files, not directories.
          ** -user jim: Find files owned by the user "jim".
          ** -exec cp --parents {} /beta \;: Execute the cp command on each file found, copying the file to the /beta directory while preserving the directory structure.
          ** The cp command with the --parents option is used to preserve the directory structure when copying files. Each file will be copied to the /beta directory with its original directory path preserved. You may need to run this command with sudo or as the root user.

9) Update the message of the day on all application and db servers for Nautilus. Make use of the approved template located at /home/thor/nautilus_banner on jump host.

Ans) Check the motd file available or not in Jump Sever directory /home/thor/nautilus_banner
       >> Once you confirm /home/thor/nautilus_banner file is available you need to copy the files to App Servers by running the command " scp /home/thor/nautilus_banner username@hostname:/tmp "
       >> Log into application servers using "ssh username@ipaddress/hostname" and move the "nautilus_banner" file to "/etc/motd" file by running the command " mv /tmp/nautilus_banner /etc/motd"
       >> Open the "etc/profile" by running the command " sudo vi etc/profile " and add the " cat /etc/motd "
             
10) As per details shared by the development team, the new application release has some dependencies on the back end. There are some packages/services that need to be installed on all app servers under Stratos Datacenter. As per requirements please perform the following steps:

a. Install squid package on all the application servers.

b. Once installed, make sure it is enabled to start during boot.

Ans) Log into application servers using "ssh username@ipaddress/hostname"
      >> check the which Linux Flavour is Installed by running the command " sudo cat /etc/os-release
      >> Once you confirm the os version check the package is available or not by running " sudo yum search squid or apt search squid "
      >> Once Package is available you can run the following commands to install the Squid Package by running the command " sudo yum install squid -y or sudo apt install squid -y "
      >> Once the Package is installed sucessfully you need to enable the services by running the command " sudo systemctl enable squid "
      >> Once you enable the squid service you need to restart the service to run in the background " sudo systemctl restart squid "
      >> Check the status of the squid service by running the below command " sudo systemctl status squid "

11) Copy the file from Jump Server to App Server 1 

Ans) Check the file is available or not in the Jump Server.
      >> Use the following command to copy the file from Jump Server to App Server 1 " scp /tmp/file1 tony@stapp01:/home/app "
      >> Log into App Server 1 to check whether you files is copied successfully or not. 

12) The system admins team of xFusionCorp Industries has noticed intermittent issues with DNS resolution in several apps . App Server 1 in Stratos Datacenter is having some DNS resolution issues, so we want to add some additional DNS nameservers on this server.
As a temporary fix we have decided to go with Google public DNS (ipv4). Please make appropriate changes on this server.

Ans) Open the /etc/resolv.conf file with a text editor (e.g., nano or vi).

Add the following line at the top of the file:
nameserver 8.8.8.8
This adds Google public DNS (IPv4) as the first DNS nameserver to use.
Save and close the file.
Restart the network service to apply the changes:
sudo systemctl restart network
Alternatively, you can reboot the server to ensure that the changes take effect after the reboot:
sudo reboot
Note: The changes made in /etc/resolv.conf are not persistent across reboots. You may need to modify the appropriate configuration file for your Linux distribution to make the changes persistent. For example, on CentOS/RHEL, you can modify the PEERDNS setting in the network configuration file (/etc/sysconfig/network-scripts/ifcfg-<interface>) to ensure that the additional DNS nameserver is added after reboot.

13) After doing some security audits of servers, xFusionCorp Industries security team has implemented some new security policies. One of them is to disable direct root login through SSH.

Disable direct SSH root login on all app servers in Stratos Datacenter.

Ans) Log in to the app server as root.
      >> Edit the sshd_config file located in /etc/ssh/sshd_config using a text editor such as nano or vim.
      >> Find the line that says "PermitRootLogin yes" and change it to "PermitRootLogin no".
      >> Save the file and exit the editor.
      >> Restart the SSH service to apply the changes by running the following command: "systemctl restart sshd".
After completing these steps, the root user will no longer be able to log in directly through SSH. Instead, the security team should create a separate user account with administrative privileges and use that account to log in and perform administrative tasks. This will help to minimize the risk of unauthorized access and protect the servers from potential security threats.

14) Some users of the monitoring app have reported issues with xFusionCorp Industries mail server. They have a mail server in Stork DC where they are using postfix mail transfer agent. Postfix service seems to fail. Try to identify the root cause and fix it.

Ans) Log in to the mail server by using " ssh groot@stmail "
      >> Check the postfix status by running the command " systemctl status postfix " and check the error. 
      >> There is a error in this line on /etc/hosts ::1    localhost ip6-localhost ip6-loopback. I have uncommed this line #::1    localhost ip6-localhost ip6-loopback.
      >> Did systemctl enable postfix,  systemctl restart postfix and systemctl status postfix.
      >> postfix mail is working fie
15) New tools have been installed on the app server in Stratos Datacenter. Some of these tools can only be managed from the graphical user interface. Therefore, there are requirements for these app servers.
On all App servers in Stratos Datacenter change the default runlevel so that they can boot in GUI (graphical user interface) by default. Please do not try to reboot these servers.
Ans) Log inot App servers using "ssh username@hostname/ipaddress"
      >> Check /etc/inittab and see the configurations. 
      >> Run the command "sudo systemctl get-default" to check the default runlevel.
      >> If the above command is shown it was set to graphical.target, you need to set it as graphical.target.
      >> To set graphical.target you need to run the below command " sudo systemctl set-default graphical.target ".
      >> Run the command "sudo systemctl get-default" to check the default runlevel set to graphical.target or not, when yu\ou it wll show graphical.target. 
